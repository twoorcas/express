const userRouter = require("express").Router(); // creating a router
const User = require("../models/users"); // import the data necessary for routing,

userRouter.get("/", (req, res) => {
  const allUsers = User.find({});
  res.send(allUsers);
});

userRouter.get("/:id", (req, res) => {
  if (!User[req.params.id]) {
    res.send({
      message: "Requested resource not found",
    });
    return;
  }

  const { name, avatar } = users[req.params.id];

  res.send({ name, avatar });
});

userRouter.post("/", (req, res) => {
  const { name, avatar } = req.body; // get the name and description of the user

  User.create({ name, avatar });
});
module.exports = userRouter;
